<!DOCTYPE html>


<html lang="en">   
<head>
  <title>StudyStock||Inicio</title>
  <link rel="stylesheet" href="style-prueba.css" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <script 
src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
</head>
<body>


<!-- NAVBAR -->
<nav class="navbar navbar-expand-sm navbar-dark color-nav fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="javascript:void(0)"></a>
    <img src="imagenes/logo.png" alt="logotipo" class="logo-principal" />
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mynavbar">
      <ul class="navbar-nav me-auto align-items-center">
        <li class="nav-item">
          <a class="nav-link text-white" href="index.html">StudyStock</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="Quienes_Somos.html">Quienes Somos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="Contactanos.html">Contacto</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-white" href="Necesitas_Ayuda.html">¿Necesitas Ayuda?</a>
      </ul>
      <a class="extra-nav-item">
        <!-- Botón Mochila -->
        <a id="botonMochila" class="btn btn-info" style="display: none;">Mochila</a>
      </a>
      <a class="extra-nav-item">
        <!-- Cambiado de <button> a <a> -->
        <a id="botonDashboard" class="btn btn-warning" style="display: none;">DashBoard</a>
      </a>

      <a href="login.html" class="extra-nav-item"><button class="ingresar-button">Iniciar Sesion</button></a>



      <script src="script.js"></script>
      <script>
        window.onload = function () {
          // Recuperar la información del usuario del almacenamiento local
          var rut = localStorage.getItem('rut');
          var perfil = localStorage.getItem('perfil');
          var nombre = localStorage.getItem('nombre');
          var permisos = localStorage.getItem('permisos');

          // Obtener referencia al botón de Dashboard y al botón de Iniciar Sesión
          var botonDashboard = document.getElementById('botonDashboard');
          var botonIniciarSesion = document.querySelector('.ingresar-button');
          var botonMochila = document.getElementById('botonMochila');
          // Actualizar el contenido de la página con la información del usuario
          if (rut && perfil) {
            // Ocultar el botón de inicio de sesión
            botonIniciarSesion.style.display = 'none';
            

            // Mostrar el botón de Dashboard si el usuario tiene al menos uno de los permisos requeridos
            if (tienePermisos(permisos)) {
              botonDashboard.style.display = 'inline-block';

              // Agregar el atributo href al botón de Dashboard
              botonDashboard.setAttribute('href', 'panelDashboard.html');

              var userInfo = document.createElement('extra-nav-item'); // Crear un nuevo div para mostrar la información del usuario
              userInfo.innerHTML =
                '👤 Hola ' +
                nombre +
                ' STATUS: ONLINE 🟢 <button class="cerrarSesionbtn" onclick="cerrarSesion()">Cerrar Sesión</button>';
              userInfo.style.marginLeft = 'auto'; // Mover el contenido a la derecha
              userInfo.style.textAlign = 'right'; // Alinear el texto a la derecha

              document.querySelector('.navbar-nav').appendChild(userInfo); // Agregar la información del usuario a la barra de navegación
            } else {
              var userInfo = document.createElement('extra-nav-item'); // Crear un nuevo div para mostrar la información del usuario
              userInfo.innerHTML =
                '👤 Hola ' +
                nombre +
                ' STATUS: ONLINE 🟢 <button class="cerrarSesionbtn1" onclick="cerrarSesion()">Cerrar Sesión</button>';
              userInfo.style.marginLeft = 'auto'; // Mover el contenido a la derecha
              userInfo.style.textAlign = 'right'; // Alinear el texto a la derecha
              
              document.querySelector('.navbar-nav').appendChild(userInfo); // Agregar la información del usuario a la barra de navegación
              
              botonDashboard.style.display = 'none';
            }
          } else {
            // Si no hay sesión iniciada, ocultar el botón de Dashboard
            botonDashboard.style.display = 'none';
          }
          
        };

        function tienePermisos(permisos) {
          // Verificar si el usuario tiene al menos uno de los permisos requeridos
          return (
            permisos.includes('permiso-inventario') ||
            permisos.includes('permiso-solicitudes') ||
            permisos.includes('permiso-prestamos') ||
            permisos.includes('permiso-administrativa')
          );
        }

        function cerrarSesion() {
          // Eliminar la información del usuario del almacenamiento local
          localStorage.removeItem('rut');
          localStorage.removeItem('perfil');
          localStorage.removeItem('nombre');
          localStorage.removeItem('permisos');

          // Recargar la página para reflejar los cambios
          location.reload();
        }
      </script>



    </div>
  </div>
</nav>
<!-- FIN NAVBAR -->
















  
<div class="container-fluid mt-3 d-flex justify-content-center align-items-center" style="margin-top: 80px;">
  <h3 class="display-0">StudyStock</h3>
</div>
</body>
</html>
<hr>





<div class="container">
      <div class="row">
          <div class="col-md-4 w3-animate-left">
      			<div class="item bg-skin">
      				<figure>
      					<a href="libros.html"> <img src="imagenes/imagen-libros.jpg" alt="producto" /> 
                </a>
      				</figure>
      				<div class="info-product text-center bg-color">
      					<h2>Libros</h2>
      				</div>
            </div>      
        </div>
          <div class="col-md-4 w3-animate-top">
      			<div class="item bg-skin">
      				<figure>
      					<a  href="equipos.html"> <img src="imagenes/imagen-dispositivos.jpg" alt="producto" /> 
                </a>
      				</figure>
      				<div class="info-product text-center bg-color">
      					<h2>Equipos</h2>
      				</div>
            </div>      
        </div>
          <div class="col-md-4 w3-animate-right">
      			<div class="item bg-skin">
      				<figure>
      					<a href="materiales.html"> <img src="imagenes/imagen-materiales.jpg" alt="producto" /> 
                </a>
      				</figure>
      				<div class="info-product text-center bg-color">
      					<h2>Materiales</h2>
      				</div>
            </div>      
        </div>        
    </div>
</div>



<div class="container-fluid">
  <div class="row">
    <div class="col-md-4 w3-animate-left">
      <h1></h1>
      <h1></h1>
    </div>
  </div>
</div>




<body>
  <footer class="footer">
    <div class="container bg-skin text-dark">
      <div class="row">
        <div class="footer-col text-dark">
          <h4>Study Stock</h4>
          <ul>
            <div class="social-links">
            <li><a href="Quienes_Somos.html"><img
            src="imagenes/nosotros.png"
            alt="producto"
          /></a>Quienes Somos</li>
            <li><a href="Contactanos.html"><img
            src="imagenes/contacto.png"
            alt="producto"
          /></a>Contactanos</li>
            <li><a href="Necesitas_Ayuda.html"><img
            src="imagenes/help.png"
            alt="producto"
          /></a>¿Necesitas ayuda?</li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>¡Siguenos!</h4>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script src="script.js"></script>
</body>

  <script src="script.js"></script>
  </body>
</html>